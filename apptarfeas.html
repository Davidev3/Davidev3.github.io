<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>App de Tarefas</title>
  <style>
    :root {
      --base-color: white;
      --base-variant: #e5e5e5;
      --text-color: #000000;
      --secondary-text: #252626;
      --primary-color: #1c1c1c;
      --accent-color: #000000;
    }

    .darkmode {
      --base-color: #2F3D40;
      --base-variant: rgb(40, 40, 40);
      --text-color: #ffffff;
      --secondary-text: #161616;
      --primary-color: #3a435d;
      --accent-color: #010101;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Helvetica", sans-serif;
      background-color: var(--base-color);
      color: var(--text-color);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: all 0.3s ease;
      padding: 20px;
    }

    #theme-switch {
      position: fixed;
      top: 20px;
      right: 20px;
      height: 50px;
      width: 50px;
      padding: 0;
      border-radius: 50%;
      background: linear-gradient(135deg, #3b82f6, #06b6d4);
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      animation: glow 2s infinite alternate;
      z-index: 1000;
    }

    #theme-switch:hover {
      transform: scale(1.1);
      box-shadow: 0 0 30px rgba(59, 130, 246, 0.8);
    }

    #theme-switch svg {
      fill: #fff;
      width: 24px;
      height: 24px;
    }

    #theme-switch svg:last-child {
      display: none;
    }

    .darkmode #theme-switch svg:first-child {
      display: none;
    }

    .darkmode #theme-switch svg:last-child {
      display: block;
    }

    @keyframes glow {
      0% {
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.6);
      }
      100% {
        box-shadow: 0 0 30px rgba(59, 130, 246, 1);
      }
    }

    .todo-container {
      background-color: var(--base-variant);
      padding: 30px;
      border-radius: 20px;
      width: 100%;
      max-width: 400px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(10px);
      text-align: center;
      animation: fadeInUp 1s ease-out;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    h1 {
      margin-bottom: 20px;
      color: var(--text-color);
      font-size: 24px;
    }

    form {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      gap: 10px;
    }

    form input {
      flex: 1;
      padding: 12px 15px;
      border-radius: 10px;
      border: 2px solid #ccc;
      background-color: var(--base-variant);
      color: var(--text-color);
      outline: none;
      transition: all 0.3s ease;
      font-size: 14px;
    }

    form input:focus {
      border-color: var(--accent-color);
      box-shadow: 0 0 8px var(--accent-color);
    }

    form button {
      padding: 12px 20px;
      border: none;
      background-color: var(--accent-color);
      color: white;
      border-radius: 10px;
      font-size: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      min-width: 50px;
    }

    form button:hover {
      background-color: #858484;
      transform: scale(1.05);
    }

    ul {
      list-style: none;
      padding: 0;
      max-height: 350px;
      overflow-y: auto;
    }

    ul::-webkit-scrollbar {
      width: 8px;
    }

    ul::-webkit-scrollbar-track {
      background: var(--base-variant);
      border-radius: 10px;
    }

    ul::-webkit-scrollbar-thumb {
      background: var(--accent-color);
      border-radius: 10px;
    }

    ul li {
      background-color: var(--base-color);
      padding: 12px 15px;
      margin-bottom: 10px;
      border-radius: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      cursor: pointer;
      text-align: left;
      word-break: break-word;
    }

    ul li:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }

    ul li.completed {
      text-decoration: line-through;
      opacity: 0.6;
    }

    ul li span {
      flex: 1;
      margin-right: 10px;
    }

    ul li button {
      background: none;
      border: none;
      cursor: pointer;
      color: #ff4444;
      font-weight: bold;
      font-size: 18px;
      padding: 5px 10px;
      border-radius: 5px;
      transition: all 0.3s ease;
    }

    ul li button:hover {
      background-color: #ff4444;
      color: white;
      transform: scale(1.1);
    }

    .btn-voltar {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      text-decoration: none;
      color: #fff;
      background: linear-gradient(135deg, #3b82f6, #06b6d4);
      padding: 12px 24px;
      border-radius: 50px;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
      transition: all 0.3s ease;
      z-index: 999;
      animation: subtleGlow 3s ease-in-out infinite;
      font-size: 14px;
    }

    .btn-voltar:hover {
      transform: translateX(-50%) scale(1.05);
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4), 0 4px 10px rgba(6, 182, 212, 0.3);
    }

    @keyframes subtleGlow {
      0% {
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
      }
      50% {
        box-shadow: 0 6px 20px rgba(59, 130, 246, 0.35);
      }
      100% {
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
      }
    }

    .empty-state {
      text-align: center;
      padding: 30px;
      color: var(--text-color);
      opacity: 0.6;
      font-style: italic;
    }

    @media (max-width: 480px) {
      .todo-container {
        padding: 20px;
        margin: 60px 10px 80px;
      }

      h1 {
        font-size: 20px;
      }

      form input {
        font-size: 14px;
        padding: 10px 12px;
      }

      form button {
        padding: 10px 16px;
        font-size: 18px;
      }

      ul li {
        padding: 10px 12px;
        font-size: 14px;
      }

      .btn-voltar {
        padding: 10px 20px;
        font-size: 13px;
        bottom: 20px;
      }

      #theme-switch {
        top: 15px;
        right: 15px;
        height: 45px;
        width: 45px;
      }
    }
  </style>
</head>
<body>

  <button id="theme-switch" aria-label="Alternar tema">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
      <path d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"/>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
      <path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"/>
    </svg>
  </button>

  <div class="todo-container">
    <h1>Minhas Tarefas</h1>
    <form id="todo-form">
      <input type="text" id="todo-input" placeholder="Adicionar nova tarefa..." required>
      <button type="submit">+</button>
    </form>
    <ul id="todo-list"></ul>
  </div>

  <a href="index.html" class="btn-voltar">← Voltar ao site</a>

  <script>
    let darkmode = localStorage.getItem('darkmode');
    const themeSwitch = document.getElementById('theme-switch');

    const enableDarkmode = () => {
      document.documentElement.classList.add('darkmode');
      localStorage.setItem('darkmode', 'active');
    };

    const disableDarkmode = () => {
      document.documentElement.classList.remove('darkmode');
      localStorage.setItem('darkmode', 'null');
    };

    if (darkmode === 'active') {
      enableDarkmode();
    }

    themeSwitch.addEventListener('click', () => {
      darkmode = localStorage.getItem('darkmode');
      if (darkmode !== 'active') {
        enableDarkmode();
      } else {
        disableDarkmode();
      }
    });

    const form = document.getElementById('todo-form');
    const input = document.getElementById('todo-input');
    const list = document.getElementById('todo-list');

    let tarefas = JSON.parse(localStorage.getItem('tarefas')) || [];

    const salvarTarefas = () => {
      localStorage.setItem('tarefas', JSON.stringify(tarefas));
    };

    const renderTarefas = () => {
      list.innerHTML = '';

      if (tarefas.length === 0) {
        list.innerHTML = '<li class="empty-state">Nenhuma tarefa adicionada ainda</li>';
        return;
      }

      tarefas.forEach((tarefa, index) => {
        const li = document.createElement('li');
        if (tarefa.completed) {
          li.classList.add('completed');
        }

        const span = document.createElement('span');
        span.textContent = tarefa.text;
        
        li.addEventListener('click', (e) => {
          if (e.target.tagName !== 'BUTTON') {
            tarefas[index].completed = !tarefas[index].completed;
            salvarTarefas();
            renderTarefas();
          }
        });

        const btnDelete = document.createElement('button');
        btnDelete.textContent = '✕';
        btnDelete.setAttribute('aria-label', 'Deletar tarefa');
        btnDelete.addEventListener('click', (e) => {
          e.stopPropagation();
          tarefas.splice(index, 1);
          salvarTarefas();
          renderTarefas();
        });

        li.appendChild(span);
        li.appendChild(btnDelete);
        list.appendChild(li);
      });
    };

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const text = input.value.trim();
      if (text === '') {
        return;
      }
      tarefas.push({ text: text, completed: false });
      input.value = '';
      salvarTarefas();
      renderTarefas();
    });

    renderTarefas();
  </script>

</body>
</html>